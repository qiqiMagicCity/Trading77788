<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<title>交易分析 - Trading777 v7.7.8</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
<link href="css/style.css" rel="stylesheet"/>
</head>
<body class="bg-gray-100 text-gray-900">
<!-- Top Nav -->
<nav class="py-3 shadow-lg text-center bg-white">
  <span class="font-bold">Trading777 v7.7.8 · Analysis</span>
  <a href="index.html" class="ml-4 text-blue-600 underline">首页</a>
  <a href="trades.html" class="ml-2 text-blue-600 underline">交易录入</a>
</nav>

<!-- 功能区统计模块 -->
<section class="max-w-6xl mx-auto mt-6 grid grid-cols-2 md:grid-cols-4 gap-4" id="stat-panels">
  <!-- Panels will be injected by JS -->
</section>

<!-- 账户收益曲线 -->
<section class="max-w-6xl mx-auto mt-10 bg-white p-6 rounded shadow">
  <div class="flex justify-between items-center mb-2">
    <h2 class="font-semibold">资金走势图</h2>
    <select id="curve-granularity" class="border p-1 rounded text-sm">
      <option value="day" selected>按天</option>
      <option value="week">按周</option>
      <option value="month">按月</option>
    </select>
    <select id="curve-mode" class="border p-1 rounded text-sm ml-2">
      <option value="abs" selected>绝对值</option>
      <option value="pct">收益率%</option>
    </select>
  </div>
  <canvas id="pnlChart" height="120"></canvas>
</section>

<!-- 交易日历 -->
<section class="max-w-6xl mx-auto mt-10 bg-white p-6 rounded shadow">
  <div class="flex justify-between items-center mb-2">
    <h2 class="font-semibold">交易日历</h2>
    <select id="calendar-mode" class="border p-1 rounded text-sm">
      <option value="abs" selected>盈亏金额</option>
      <option value="pct">盈亏百分比</option>
    </select>
  </div>
  <div id="calendar"></div>
</section>

<!-- 盈亏排行榜 -->
<section class="max-w-6xl mx-auto mt-10 bg-white p-6 rounded shadow">
  <h2 class="font-semibold mb-2">盈亏排行榜</h2>
  <div class="overflow-x-auto">
    <table class="min-w-full text-sm text-left" id="rank-table">
      <thead class="border-b">
        <tr>
          <th class="px-2 py-1">#</th>
          <th class="px-2 py-1">Logo</th>
          <th class="px-2 py-1">代码</th>
          <th class="px-2 py-1">中文</th>
          <th class="px-2 py-1">累计盈亏</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</section>

<!-- 持仓结构图 -->
<section class="max-w-6xl mx-auto mt-10 mb-10 bg-white p-6 rounded shadow">
  <h2 class="font-semibold mb-2">持仓结构</h2>
  <canvas id="pieChart" height="120"></canvas>
</section>

<script src="js/analysis_v7.7.8.js"></script>
</body>
</html>