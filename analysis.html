
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>交易分析 - Trading777 v7.7.14</title>
  <script defer src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
  <script defer src="js/analysis.js"></script>
</head>
<body class="bg-slate-900 text-slate-100 min-h-screen">
  <!-- Top Nav -->
  <nav class="bg-slate-800 py-3 shadow-lg">
    <div class="max-w-7xl mx-auto px-4 flex items-center justify-between">
      <h1 class="text-xl font-bold tracking-wide">Trading777 · 交易分析</h1>
      <a href="index.html" class="text-sm text-blue-400 hover:underline">← 返回仪表盘</a>
    </div>
  </nav>

  <main class="max-w-7xl mx-auto p-4 space-y-14">
    <!-- 功能区 1: 资金收益图表 -->
    <section id="pnlChartSection">
      <h2 class="text-lg font-semibold mb-4">资金收益曲线</h2>
      
<div class="flex gap-1 mb-2">
  <button data-gran="day" id="granDay" class="px-3 py-1 text-xs rounded-l-lg bg-blue-500">日</button>
  <button data-gran="week" id="granWeek" class="px-3 py-1 text-xs bg-slate-700">周</button>
  <button data-gran="month" id="granMonth" class="px-3 py-1 text-xs rounded-r-lg bg-slate-700">月</button>
</div>
<canvas id="pnlChart" class="w-full h-72 bg-slate-800 rounded-xl p-4"></canvas>
    </section>

    <!-- 功能区 2: 交易日历 -->
    
<!-- 功能区 2: 交易日历（总账户） -->
<section id="totalCalendarSection">
  <div class="flex items-center justify-between mb-4">
    <h2 class="text-lg font-semibold">交易日历（总账户）</h2>
    <div>
      <button id="toggleAbsTotal" class="px-3 py-1 text-xs rounded-l-lg bg-blue-500">绝对值</button>
      <button id="togglePctTotal" class="px-3 py-1 text-xs rounded-r-lg bg-slate-700">收益率%</button>
    </div>
  </div>
  <div id="totalCalendar" class="bg-slate-800 rounded-xl p-4"></div>
</section>
<section id="intraCalendarSection">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-lg font-semibold">交易日历（日内交易）</h2>
        <div>
          <button id="toggleAbsIntra" class="px-3 py-1 text-xs rounded-l-lg bg-blue-500">绝对值</button>
          <button id="togglePctIntra" class="px-3 py-1 text-xs rounded-r-lg bg-slate-700">收益率%</button>
        </div>
      </div>
      <div id="intraCalendar" class="bg-slate-800 rounded-xl p-4"></div>
    </section>

    <!-- 功能区 3: 盈亏排行榜 -->
    <section id="rankingSection">
      <h2 class="text-lg font-semibold mb-4">盈亏排行榜</h2>
      <div class="flex mb-4">
        <button id="profitTab" class="flex-1 py-2 bg-blue-500 rounded-l-lg text-sm">盈利 TOP 10</button>
        <button id="lossTab" class="flex-1 py-2 bg-slate-700 rounded-r-lg text-sm">亏损 TOP 10</button>
      </div>
      <div class="bg-slate-800 rounded-xl overflow-x-auto">
        <table id="rankingTable" class="w-full text-sm text-left">
          <thead class="uppercase tracking-wider text-slate-400 text-xs border-b border-slate-700">
            <tr><th>排名</th><th>logo</th><th>代码</th><th>中文</th><th>累计盈亏 ($)</th></tr>
          </thead>
          <tbody class="text-slate-300">
            <!-- 动态填充 -->
          </tbody>
        </table>
      </div>
    </section>
  </main>


<script type="module" src="js/analysis-ui.js"></script>

</body>
</html>
